# ë‹¤ì´ì–´ë¦¬ í‚¤ìš°ê¸°(DaKi)

> ì‰½ê³  í¸ë¦¬í•˜ê²Œ, ììœ ë¡­ê²Œ ì¼ê¸°ë¥¼ ê¾¸ë¯¸ëŠ” ê²ƒì„ ëª¨í† ë¡œ ë‚˜ë§Œì˜ ì¼ê¸°ì¥ì„ ê¾¸ë°€ ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ DAKI
>
> ì—¬ëŸ¬ë¶„ì˜ í•˜ë£¨ë¥¼ ë‹¤ì´ì–´ë¦¬ í‚¤ìš°ê¸°ì—ì„œ ì¥ì‹í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”? 

## 

## ê¸°íš ë°°ê²½

- ì¼ê¸° ì‘ì„±ì— ì–´ë ¤ì›€ì„ ëŠë¼ëŠ” ì‚¬ëŒë“¤ì„ ìœ„í•œ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ê³  ì‹¶ë‹¤.
    - ì¼ê¸° ì“¸ ì‹œê°„ì´ ì—†ëŠ” ë°”ìœ í˜„ëŒ€ì¸ì„ ìœ„í•´
    - ì¼ê¸°ë¥¼ ì˜ˆì˜ê²Œ ê¾¸ë¯¸ê³  ì‹¶ì§€ë§Œ ì†ì¬ì£¼ê°€ ë¶€ì¡±í•œ ì‚¬ëŒì„ ìœ„í•´
    
    

## ì£¼ìš” ì„œë¹„ìŠ¤

- ì¼ê¸° ì‘ì„±
    - ì¼ê¸°ë¥¼ ì‘ì„±í•˜ê³  ìŠ¤í‹°ì»¤ë‚˜ ì´ë¯¸ì§€ë¥¼ í™œìš©í•˜ì—¬ ê¾¸ë°€ ìˆ˜ ìˆë‹¤.
    - ìŒì„± ì¸ì‹ì„ ì´ìš©í•˜ì—¬ ì¼ê¸°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
    - ë‹¬ë ¥ìœ¼ë¡œ ì¼ê¸° ì‘ì„±í•œ ë‚ ì§œë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.
    - ëª¨ë°”ì¼ ìµœì í™”ë¥¼ í†µí•´ ëª¨ë°”ì¼ë¡œë„ ì¼ê¸° ì‘ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.
- ìºë¦­í„° ê¾¸ë¯¸ê¸°
    - ì¼ê¸° ì‘ì„±ì„ í†µí•´ ì–»ì€ í¬ì¸íŠ¸ë¡œ ìºë¦­í„°ë¥¼ ê¾¸ë¯¸ëŠ” ì•„ì´í…œì„ ì–»ì„ ìˆ˜ ìˆë‹¤.
    - ì•„ì´í…œì„ ì…í˜€ ìºë¦­í„°ë¥¼ ê¾¸ë°€ ìˆ˜ ìˆë‹¤.
    
    

## ì•„í‚¤í…ì³

![architecture](./asset/architecture.png)



## ì„œë¹„ìŠ¤ í™”ë©´

### 1. ë©”ì¸í˜ì´ì§€

![main](./asset/main.png)

### 2. ë¡œê·¸ì¸

![login](./asset/login.png)

### 3. íšŒì›ê°€ì…

![Untitled](./asset/signup.png)

![moreinfo](./asset/moreinfo.png)

### 4. ì¼ê¸° ìº˜ë¦°ë”

![calendar](./asset/calendar.png)

### 5. ì¼ê¸° ê·¸ë¦¬ë“œ

![grid](./asset/grid.png)

### 6. ì¼ê¸° ì‘ì„± í˜ì´ì§€

![diary-create](./asset/diary-create.png)

### 7. ë§ˆì´í˜ì´ì§€

![mypage](./asset/mypage.png)

### 8. ìºë¦­í„° íŒì—…

![character](./asset/character.png)



## UCC [ğŸ”—]( https://youtu.be/1FPh0LBchYs)

 https://youtu.be/1FPh0LBchYs



## ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„ | S/W | version | ë¹„ê³  |
| --- | --- | --- | --- |
| Server | ubuntu | Ubuntu 20.04.3 LTS |  |
|  | Docker | 20.10.14 |  |
| AWS | EC2 |  |  |
|  | S3 |  | í´ë¼ì´ì–¸íŠ¸ ì—…ë¡œë“œ ì´ë¯¸ì§€ ì €ì¥ |
|  | Route 53 |  |  |
| Database | MySQL | 5.7.37 |  |
| Backend | Java | 1.8 |  |
|  | Spring boot | 2.6.4 |  |
| Frontend | Vue.js      | 2.6.14             |                               |
|  | npm         |                    |                               |
| IDE | VS code | 1.66.0 |  |
|  | IntelliJ | 20213.1 |  |
| Cooperation | Jira |  |  |
|  | Notion |  |  |
| version control | Git |  |  |



## í¬íŒ… ë©”ë‰´ì–¼

### 1. í”„ë¡œì íŠ¸ ë¹Œë“œ ì „ ì„¤ì¹˜ìš”ì†Œ(íŠ¹ì´ì‚¬í•­)

#### 1-1. ë°©í™”ë²½ ì„¤ì •

ì„œë¹„ì—ì„œ ì‚¬ìš©í•  í¬íŠ¸ë¥¼ ë¯¸ë¦¬ ì—´ì–´ì¤ë‹ˆë‹¤.

| 22/TCP   | SSH                    |
| -------- | ---------------------- |
| 443/TCP  | nginx                  |
| 3306/TCP | MySQL                  |
| 8080/TCP | Spring boot API Server |

#### 1-2. MySQL

```bash
# ì„¤ì¹˜
sudo apt-get update
sudo apt-get install mysql-server

# ì‹¤í–‰
sudo service mysql start

# ì ‘ì†
sudo mysql

# ì‚¬ìš©í•  ìœ ì € ìƒì„± ë° ê¶Œí•œ ë¶€ì—¬
CREATE USER ê³„ì •ì´ë¦„@'%' IDENTIFIED BY ë¹„ë°€ë²ˆí˜¸;
GRANT ALL PRIVILEGES ON *.* TO ê³„ì •ì´ë¦„@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES
```

#### 1-3. ì¸ì¦ì„œ

```bash
# certbot ì„¤ì¹˜
sudo snap install certbot --classic

# ì¸ì¦ì„œ ë°œê¸‰
sudo certbot certonly --standalone

# root ê³„ì • ë¡œê·¸ì¸
sudo su

# ì¸ì¦ì„œ ìœ„ì¹˜ í´ë” ì´ë™
cd /etc/letsencrypt/live/k6e105.p.ssafy.io

# ì¸ì¦ì„œ í˜•ì‹ ë³€ê²½ pem -> PKCS12 
openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out cert.p12 -CAfile chain.pem

# ì¸ì¦ì„œ ë³µì‚¬
sudo cp fullchain.pem /home/ssl
sudo cp privkey.pem /home/ssl
sudo cp key.p12 /home/ssl
```

#### 1-4. Docker

```bash
# ë„ì»¤ ì„¤ì¹˜
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io
```



### 2 ë°°í¬ ë° ì‹¤í–‰

AWS EC2 ì™€ dockerë¥¼ ì´ìš©í•˜ì—¬ ë°°í¬í•˜ì˜€ìŠµë‹ˆë‹¤. 

#### 2-1. Nginx í™˜ê²½ ì„¤ì •

```jsx
server {
	listen 443 ssl;                
	server_name k6e105.p.ssafy.io;
	
	ssl_certificate     /home/ssl/fullchain.pem;
	ssl_certificate_key /home/ssl/privkey.pem;
	
	
	location / {
	        root /home/frontend/dist;
	        #root   /usr/share/nginx/html;
	        index  index.html index.htm;
	    }
}
```

#### 2-2. í”„ë¡œì íŠ¸ ë‹¤ìš´ (git clone)

```jsx
git clone https://lab.ssafy.com/s06-final/S06P31E105.git
```

#### 2-3. api ì„œë²„ ë¹Œë“œ ë° ì‹¤í–‰

```jsx
mvn clean package
docker build -t daki:latest .
docker run --name daki -p 8080:8080-d -v /home/ssl:/home/ssl --rm daki:latest
```

#### 2-4. nginx ì‹¤í–‰

```jsx
service nginx start
```

